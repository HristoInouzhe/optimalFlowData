---
title: "optimalFlowData: a data package for optimalFlow"
author:
- name: Hristo Inouzhe
  affiliation: Universidad de Valladolid, Spain
  email: hristo.inouzhe@gmail.com
date: "`r format(Sys.time(), '%d %B, %Y')`"
output: 
    BiocStyle::html_document
vignette: >
    %\VignetteIndexEntry{optimalFlow: optimal-transport approach to Flow Cytometry analysis}
    %\VignetteEngine{knitr::rmarkdown}
    \usepackage[utf8]{inputenc}
references:
- id: optimalFlow
  title: 'optimalFlow: optimal-transport approach to Flow Cytometry analysis'
  author:
  - family: del Barrio
    given: Eustasio
  - family: Inouzhe
    given: Hristo
  - family: Loubes
    given: Jean-Michel
  - family: Mayo-Iscar
    given: Agustin
  - family: Matran
    given: Carlos
  URL: 'https://arxiv.org/abs/1907.08006'
  type: article-journal
  issued:
    year: 2019
    month: 7
---



```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Introduction

*optimalFlowData* is a package containing 21 flow cytometry datasets, saved as data frames, used for testing and developping examples for the package *optimalFlow* based on the results in @optimalFlow.

Data come from flow cytometry measurements obtained following the Euroflow protocols and kindly provided by Centro de Investigaci√≥n del Cancer (CIC) in Salamanca, Spain.

# Installation

Installation procedure:

```{r ej0, eval = FALSE}
if (!requireNamespace("BiocManager", quietly = TRUE))
    install.packages("BiocManager")

BiocManager::install("optimalFlowData")
```

# Use
```{r ej01, eval = TRUE}
library(optimalFlowData)
head(Cytometry1)
```
We can create a database of gated cytometries containing four cell types.
```{r ej1, eval = TRUE}

database = list(
  Cytometry2[which(Cytometry2$`Population ID (name)` %in% 
                   c("Monocytes", "CD4+CD8-", "Mature SIg Kappa", "TCRgd-")),],
  Cytometry3[which(Cytometry3$`Population ID (name)` %in% 
                   c("Monocytes", "CD4+CD8-", "Mature SIg Kappa", "TCRgd-")),],
  Cytometry4[which(Cytometry4$`Population ID (name)` %in% 
                   c("Monocytes", "CD4+CD8-", "Mature SIg Kappa", "TCRgd-")),],
  Cytometry5[which(Cytometry5$`Population ID (name)` %in% 
                   c("Monocytes", "CD4+CD8-", "Mature SIg Kappa", "TCRgd-")),],
  Cytometry7[which(Cytometry7$`Population ID (name)` %in% 
                   c("Monocytes", "CD4+CD8-", "Mature SIg Kappa", "TCRgd-")),],
  Cytometry8[which(Cytometry8$`Population ID (name)` %in% 
                   c("Monocytes", "CD4+CD8-", "Mature SIg Kappa", "TCRgd-")),],
  Cytometry9[which(Cytometry9$`Population ID (name)` %in% 
                   c("Monocytes", "CD4+CD8-", "Mature SIg Kappa", "TCRgd-")),],
  Cytometry12[which(Cytometry12$`Population ID (name)` %in% 
                   c("Monocytes", "CD4+CD8-", "Mature SIg Kappa", "TCRgd-")),],
  Cytometry13[which(Cytometry13$`Population ID (name)` %in% 
                   c("Monocytes", "CD4+CD8-", "Mature SIg Kappa", "TCRgd-")),],
  Cytometry14[which(Cytometry14$`Population ID (name)` %in% 
                   c("Monocytes", "CD4+CD8-", "Mature SIg Kappa", "TCRgd-")),],
  Cytometry15[which(Cytometry15$`Population ID (name)` %in% 
                   c("Monocytes", "CD4+CD8-", "Mature SIg Kappa", "TCRgd-")),],
  Cytometry16[which(Cytometry16$`Population ID (name)` %in% 
                   c("Monocytes", "CD4+CD8-", "Mature SIg Kappa", "TCRgd-")),],
  Cytometry17[which(Cytometry17$`Population ID (name)` %in% 
                   c("Monocytes", "CD4+CD8-", "Mature SIg Kappa", "TCRgd-")),],
  Cytometry19[which(Cytometry19$`Population ID (name)` %in% 
                   c("Monocytes", "CD4+CD8-", "Mature SIg Kappa", "TCRgd-")),],
  Cytometry21[which(Cytometry21$`Population ID (name)` %in% 
                   c("Monocytes", "CD4+CD8-", "Mature SIg Kappa", "TCRgd-")),]
  )
```
A plot of the data in a 3 dimensional subspase
```{r ej2, echo = TRUE}
pairs(database[[1]][,c(4, 3, 9)], col = factor(database[[1]][, 11]))
```

# References
